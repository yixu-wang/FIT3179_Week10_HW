{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width": 400,
    "height": 300,
    "title": ["Deaths caused directly and indirectly by alcohol over time"],
    "data": {
      "name": "alcohol_deaths",
      "url": "https://raw.githubusercontent.com/yixu-wang/FIT3179_Week10_HW/refs/heads/main/Interactive_Vis/data/alcohol_deaths.csv",
      "format": {"type": "csv"}
    },
    "params": [
      {
        "name": "Year_Selector",
        "value": 1997,
        "bind": {
          "input": "range",
          "min": 1997,
          "max": 2022,
          "step": 1,
          "name": "Year: "
        }
      }
    ],
    "layer": [
      {
        "mark": {"type": "line"},
        "encoding": {
          "x": {"field": "Year"},
          "y": {"field": "All alcohol-related deaths"},
          "color": {"datum": "Alcohol-related"}
          
        }
      },
      {
        "mark": {"type": "line"},
        "encoding": {
          "x": {"field": "Year"},
          "y": {"field": "All alcohol-induced deaths"},
          "color": {"datum": "Alcohol-induced"}
        }
      },
      {
        "mark": {
          "type": "text",
          "align": "left",
          "baseline": "middle",
          "xOffset": -20,
          "yOffset": -10
        },
        "encoding": {
          "x": {"field": "Year"},
          "y": {"field": "All alcohol-related deaths"},
          "text": {
            "condition": {
              "test": "year(datum.Year) === Year_Selector",
              "field": "All alcohol-related deaths",
              "type": "quantitative"
            }
          },
          "color": {"value": "blue"}
        }
      },
      {
        "mark": {
          "type": "text",
          "align": "left",
          "baseline": "middle",
          "xOffset": 10,
          "yOffset": 15
        },
        "encoding": {
          "x": {"field": "Year"},
          "y": {"field": "All alcohol-induced deaths"},
          "text": {
            "condition": {
              "test": "year(datum.Year) === Year_Selector",
              "field": "All alcohol-induced deaths",
              "type": "quantitative"
            }
          },
          "color": {"value": "red"}
        }
      },
      {
        "mark": {"type": "point", "size": 100, "color": "red", "filled": true},
        "encoding": {
          "x": {"field": "Year"},
          "y": {"field": "All alcohol-induced deaths"},
          "opacity": {
            "condition": {
              "test": "year(datum.Year) === Year_Selector",
              "value": 1
            },
            "value": 0
          }
        }
      },
      {
        "mark": {"type": "point", "size": 100, "color": "blue", "filled": true},
        "encoding": {
          "x": {"field": "Year"},
          "y": {"field": "All alcohol-related deaths"},
          "opacity": {
            "condition": {
              "test": "year(datum.Year) === Year_Selector",
              "value": 1
            },
            "value": 0
          }
        }
      }
    ],
    "encoding": {
      "y": {"type": "quantitative", "title": "Deaths"},
      "color": {
        "title": "Legend",
        "type": "nominal",
        "scale": {
          "domain": ["Alcohol-related", "Alcohol-induced"],
          "range": ["blue", "red"]
        }
      },
      "tooltip": [
            {"field": "Year"},
            {"field": "All alcohol-related deaths"},
            {"field": "All alcohol-induced deaths"}
          ]
    }
  }